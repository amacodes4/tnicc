



<!DOCTYPE html>
<html lang="en">

    <head>
        
        <meta charset="UTF-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Dashboard</title>

        <!-- STYLESHEETS -->
        <style type="text/css">
            [fuse-cloak],
            .fuse-cloak {
                display: none !important;
            }
        </style>

        <!-- Icons.css -->
        <link type="text/css" rel="stylesheet" href="/public/assets/icons/fuse-icon-font/style.css">

        <!-- Animate.css -->
        <link type="text/css" rel="stylesheet" href="/public/assets/vendor/animate.css/animate.min.css">

        <!-- PNotify -->
        <link type="text/css" rel="stylesheet" href="/public/assets/vendor/pnotify/pnotify.custom.min.css">

        <!-- Nvd3 - D3 Charts -->
        <link type="text/css" rel="stylesheet" href="/public/assets/vendor/nvd3/build/nv.d3.min.css"/>

        <!-- Perfect Scrollbar -->
        <link type="text/css" rel="stylesheet" href="/public/assets/vendor/perfect-scrollbar/css/perfect-scrollbar.min.css"/>

        <!-- Fuse Html -->
        <link type="text/css" rel="stylesheet" href="/public/assets/vendor/fuse-html/fuse-html.min.css"/>

        <!-- Main CSS -->
        <!-- / STYLESHEETS -->
        <link type="text/css" rel="stylesheet" href="/public/assets/css/main.css">

        <!-- / JAVASCRIPT -->
    </head>

    <body class="layout layout-vertical layout-left-navigation layout-below-toolbar">

        
        

<div id="wrapper">

    

    <aside id="aside" class="aside aside-left"
    data-fuse-bar="aside" data-fuse-bar-media-step="md"
    data-fuse-bar-position="left">
 <div class="aside-content-wrapper">

<div class="aside-content bg-white text-auto">

<div class="aside-toolbar">

 <div class="logo">
     <img src="/public/assets/ldn/images/logo.png">
 </div>

 <button id="toggle-fold-aside-button" type="button" class="btn btn-icon d-none d-lg-block"
         data-fuse-aside-toggle-fold>
     <i class="icon icon-backburger"></i>
 </button>

</div>

<ul class="nav flex-column custom-scrollbar" id="sidenav" data-children=".nav-item">

<li class="nav-item" role="tab" id="heading-dashboards">

<a class="nav-link ripple "
data-toggle="collapse"
data-target="#collapse-dashboards"
href="/admin/dashboard"
aria-expanded="true"
aria-controls="collapse-dashboards">
<i class="icon s-4 icon-tile-four"></i>
<span>Dashboard</span>
</a>     
</ul>
</li>
<li class="nav-item">
<a class="nav-link ripple " href="/admin/team"
data-page-url="/apps-dashboards-project.html">
<i class="icon s-4 icon-calendar-today"></i>
<span>Manage Teams</span>
</a>
</li>

<li class="nav-item" role="tab" id="heading-ecommerce">

<a class="nav-link ripple"
data-toggle="collapse"
data-target="#collapse-ecommerce"
href="/admin/languages"
aria-expanded="false"
aria-controls="collapse-ecommerce">
<i class="icon s-4 icon-comment"></i>
<span>Manage Languages</span>
</a>

</li>
<li class="nav-item" role="tab" id="heading-ecommerce">

<a class="nav-link ripple"
data-toggle="collapse"
data-target="#collapse-ecommerce"
href="#"
aria-expanded="false"
aria-controls="collapse-ecommerce">
<i class="icon s-4 icon-comment"></i>
<span>Manage Translations</span>
</a>

</li>
<li class="nav-item">
<a class="nav-link ripple " href="#"
data-page-url="/apps-dashboards-project.html">
<i class="icon s-4 icon-group"></i>
<span>Manage Distributions</span>
</a>
</li>

<li class="nav-item">
<a class="nav-link ripple " href="/admin/distributors/"
data-page-url="/apps-dashboards-project.html">
<i class="icon s-4 icon-people"></i>
<span>Manage Distributors</span>
</a>
</li>

<li class="nav-item">
<a class="nav-link ripple " href="#"
data-page-url="/apps-dashboards-project.html">
<i class="icon s-4 icon-cash"></i>
<span>Manage Payments</span>
</a>
</li>
</ul>
</div>
</div>
</aside>



    <div class="content-wrapper">

        
            <nav id="toolbar" class="fixed-top bg-white">

    <div class="row no-gutters align-items-center flex-nowrap">

        <div class="col">

            <div class="row no-gutters align-items-center flex-nowrap">

                

                    <button type="button" class="toggle-aside-button btn btn-icon d-block d-lg-none"
                            data-fuse-bar-toggle="aside">
                        <i class="icon icon-menu"></i>
                    </button>

                    <div class="toolbar-separator d-block d-lg-none"></div>

                


                <div class="shortcuts-wrapper row no-gutters align-items-center px-0 px-sm-2">

                    <div class="shortcuts row no-gutters align-items-center d-none d-md-flex">
                    </div>

                    <div class="add-shortcut-menu-button dropdown px-1 px-sm-3">

                    </div>
                </div>

            </div>
        </div>

        <div class="col-auto">

            <div class="row no-gutters align-items-center justify-content-end">

                <div class="user-menu-button dropdown">

                    <div class="dropdown-toggle ripple row align-items-center no-gutters px-2 px-sm-4" role="button"
                         id="dropdownUserMenu"
                         data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <div class="avatar-wrapper">
                            <img class="avatar" src="/public/assets/images/avatars/profile.jpg">
                            <i class="status text-green icon-checkbox-marked-circle s-4"></i>
                        </div>
                        <span class="username mx-3 d-none d-md-block">Super Admin</span>
                    </div>

                    <div class="dropdown-menu" aria-labelledby="dropdownUserMenu">

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <i class="icon-account"></i>
                                <span class="px-3">My Profile</span>
                            </div>
                        </a>

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <i class="icon-email"></i>
                                <span class="px-3">Inbox</span>
                            </div>
                        </a>

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <i class="status text-green icon-checkbox-marked-circle"></i>
                                <span class="px-3">Online</span>
                            </div>
                        </a>

                        <div class="dropdown-divider"></div>

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <i class="icon-logout"></i>
                                <span class="px-3">Logout</span>
                            </div>
                        </a>

                    </div>
                </div>

                <div class="toolbar-separator"></div>

                <div class="toolbar-separator"></div>

                <div class="language-button dropdown">

                    <div
                        class="dropdown-toggle ripple row align-items-center justify-content-center no-gutters px-0 px-sm-4"
                        role="button"
                        id="dropdownLanguageMenu"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <div class="row no-gutters align-items-center">
                            <img class="flag mr-2" src="/public/assets/images/flags/us.png">
                            <span class="d-none d-md-block">EN</span>
                        </div>
                    </div>

                    <div class="dropdown-menu" aria-labelledby="dropdownLanguageMenu">

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <img class="flag" src="/public/assets/images/flags/us.png">
                                <span class="px-3">English</span>
                            </div>
                        </a>

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <img class="flag" src="/public/assets/images/flags/es.png">
                                <span class="px-3">Spanish</span>
                            </div>
                        </a>

                        <a class="dropdown-item" href="#">
                            <div class="row no-gutters align-items-center flex-nowrap">
                                <img class="flag" src="/public/assets/images/flags/tr.png">
                                <span class="px-3">Turkish</span>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="toolbar-separator"></div>


                

            </div>
        </div>
    </div>
</nav>
        

        <div class="content">
            <div id="project-dashboard" class="page-layout simple right-sidebar tabbed">

    <div class="page-content-wrapper">

        <!-- HEADER -->
        <div class="page-header bg-secondary text-auto d-flex flex-column justify-content-between px-6 pt-4 pb-0">

            <div class="row no-gutters align-items-start justify-content-between flex-nowrap">

                <div>
                    <span class="h2">Rhapsody of Realities Translations</span>
                </div>

                <button type="button" class="sidebar-toggle-button btn btn-icon d-block d-xl-none"
                        data-fuse-bar-toggle="dashboard-project-sidebar" aria-label="Toggle sidebar">
                    <i class="icon icon-menu"></i>
                </button>
            </div>

        </div>
        <!-- / HEADER -->

        <!-- CONTENT -->
        <div class="page-content pl-14">

    
            <div class="tab-content">
   
        <!-- WIDGET 4 -->
        <div class="col-lg-12 col-sm-12">

            <div class="widget widget4 card">

                    <form class="p-14">
                        <div class="form-group">
                      
                            <h2 class="mt-0 ml-50 pl-17 p-5 text-secondary">Upload Translations</h2>
                       
                            <select class="form-control custom-select" id="language">
                                <option selected value="">Select Language</option>
                             </select>
                        </div>
                         <div class="form-group">
                            <select class="form-control custom-select"  id="month">
                                <option selected value="">Select Month</option>
                                <option value="Febraury">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                             </select>
                         </div>
                         <div class="form-group">
                            <input type="number" class="form-control" id="year" placeholder="Year">
                         </div>
                         <div class="form-group">
                            <select class="form-control custom-select" id="docType">
                                <option selected value="">Select Document Type</option>
                                <option value="MP3">MP3</option>
                                <option value="PDF">PDF</option>
                             </select>
                         </div>

                         <div class="form-group">
                            <label for="exampleFormControlFile1">Upload</label>
                            <input type="file" class="form-control-file" id="rorDocs">
                          </div>
                          <div class="form-group px-32">
                          <button type="button" class="btn btn-secondary  ml-48 px-20 " id="submitBtn">Submit</button>
                      </form>
                    </div>

            </div>
        </div>
</div>
 

           </div>
    <!-- / WIDGET GROUP -->
</div>
         </div>
</div>
</div>
    </div>
        <!-- / CONTENT -->
    </div>    
    </div>

</div>

        <!-- JAVASCRIPT -->

        <!-- jQuery -->
        <script type="text/javascript" src="/public/assets/js/jquery.min.js"></script>

        <!-- Mobile Detect -->
        <script type="text/javascript" src="/public/assets/vendor/mobile-detect/mobile-detect.min.js"></script>

        <!-- Perfect Scrollbar -->
        <script type="text/javascript"
                src="/public/assets/vendor/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"></script>

        <!-- Popper.js -->
        <script type="text/javascript" src="/public/assets/vendor/popper.js/index.js"></script>

        <!-- Bootstrap -->
        <script type="text/javascript" src="/public/assets/vendor/bootstrap/bootstrap.min.js"></script>

        <!-- Nvd3 - D3 Charts -->
        <script type="text/javascript" src="/public/assets/vendor/d3/d3.min.js"></script>
        <script type="text/javascript" src="/public/assets/vendor/nvd3/build/nv.d3.min.js"></script>

        <!-- Data tables -->
        <script type="text/javascript" src="/public/assets/vendor/datatables.net/js/jquery.dataTables.min.js"></script>

        <script type="text/javascript" src="/public/assets/vendor/datatables-responsive/js/dataTables.responsive.js"></script>

        <!-- PNotify -->
        <script type="text/javascript" src="/public/assets/vendor/pnotify/pnotify.custom.min.js"></script>

        <!-- Fuse Html -->
        <script type="text/javascript" src="/public/assets/vendor/fuse-html/fuse-html.min.js"></script>

        <!-- Main JS -->
        <script type="text/javascript" src="/public/assets/js/main.js"></script>
        <script type="text/javascript" src="/public/assets/js/custom/Translations.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.9.1/firebase-app.js"></script> 
<!-- Add Firebase products that you want to use -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/7.9.1/modernizr.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.1/firebase-storage.js"></script>
<script type="text/javascript" src="/public/assets/js/custom/Languages.js"></script>

<!-- The core Firebase JS SDK is always required and must be listed first -->

<script>
$(document).ready(function(){
    Languages.loadLanguages('/dept/admin/tni/language/').then(function(data){
    var ele = document.getElementById('language');
    for (var i = 0; i < data.length; i++) {
        // POPULATE SELECT ELEMENT WITH JSON.
        ele.innerHTML = ele.innerHTML +
            '<option value="' + data[i]['_id'] + '">' + data[i]['name'] + '</option>';
    }
   });
    $("#submitBtn").on('click',function(){
                // disable button
                let self = this
                $(self).prop("disabled", true);
                // add spinner to button
                $(self).html(
                    `<i class="fa fa-spinner fa-spin fa-3x loader"></i>`
                );
               // let firebaseConfig = Translations.getConfigData('/firebase/config');
                var firebaseConfig = {
                            apiKey: "AIzaSyDEQPLbNYogRPr0G47ErxqkGP6VCMvakvI",
                            authDomain: "tnicc-412a9.firebaseapp.com",
                            databaseURL: "https://tnicc-412a9.firebaseio.com",
                            projectId: "tnicc-412a9",
                            storageBucket: "tnicc-412a9.appspot.com",
                            messagingSenderId: "1021374360464",
                            appId: "1:1021374360464:web:5d7f9a0230f14f1d442115",
                            measurementId: "G-T1GRXX01CV"
                        };
                 firebase.initializeApp(firebaseConfig);  


                let file = document.getElementById("rorDocs").files[0];  
                  
                 //   let filename = image.name
                    const metadata = { contentType: file.type };
                    const task = firebase.app().storage().ref('docs/'+file).put(file, metadata); 
                    task.then(snapshot => snapshot.ref.getDownloadURL()).then(function(url) { 
                      
                     let upload = {
                        language: document.getElementById("language").value,
                        month: document.getElementById("month").value,
                        year: document.getElementById("year").value,
                        docType: document.getElementById("docType").value,
                        dataURL: url
                    }
                    console.log('upload',JSON.stringify(upload)); 
                     Translations.uploadTranslation('/dept/admin/tni/translation/create',upload).then(function (data){
                        var json = JSON.stringify(data); 
                        console.log("json",json);
/*                         var div = document.getElementById("projectListView");  
                        let obj = $.parseJSON(json);

                        let projectTemplate = $(Project.getProjectTemplate());

                        $(projectTemplate).find(".qrcodeSrc").attr("src",obj.qrCode);
                        $(projectTemplate).find(".lead").text(obj.builder.fullname);  
                        $(projectTemplate).find(".project_title").text(obj.title);  
                        $(projectTemplate).find(".project_desc").text(obj.projectDescription);  
                        $(projectTemplate).find(".project_download").attr("href",obj.source);  
                        $(projectTemplate).find(".project_print").attr("id",obj._id);  

                        $(div).append($(projectTemplate));

                            $(self).prop("disabled", false);
                            $(self).remove("i");
                            $('#projectBackdrop').modal("hide"); */
                        
                    })
                   // document.getElementById("photo").src = url; 
                });  


    });



});
function create_UUID(){
            var dt = new Date().getTime();
            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = (dt + Math.random()*16)%16 | 0;
                dt = Math.floor(dt/16);
                return (c=='x' ? r :(r&0x3|0x8)).toString(16);
            });
            return uuid;
    }
    function selectFileName(input) {
        if (input.files && input.files[0]) {
            $("#filename").text(input.files[0].name);
        }
    }
</script>
</body>
</html>
